import{l as be}from"./chunk-PCL73WY7.js";import{a as F}from"./chunk-V7BYYPEQ.js";import{a as ve,d as _e,e as ye}from"./chunk-MGDPBCMH.js";import{a as ue,h as fe,i as M,k as he,y as G}from"./chunk-IJ63IUIN.js";import{$a as ie,Bb as c,Cb as d,Db as I,Hb as D,Ib as ae,Mb as p,Nb as v,Ob as O,Pb as P,Qb as le,Rb as ce,Sa as T,Sb as de,Tb as A,Ub as Z,Va as u,Wa as m,Wb as pe,Xb as me,Z as z,Zb as W,_ as V,_b as ge,aa as q,ca as K,d as C,da as N,eb as w,fb as H,gb as S,ib as ne,kb as x,ma as _,na as y,oa as $,s as Q,ta as b,ua as ee,ub as oe,vb as g,xa as te,xb as re,yb as se}from"./chunk-ZIJ2ZRAW.js";var xe=[[["ngx-dropzone-label"]]],Ie=["ngx-dropzone-label"];function Te(i,n){if(i&1){let e=D();c(0,"ngx-dropzone-remove-badge",1),p("click",function(o){_(e);let r=v();return y(r._remove(o))}),d()}}var Oe=["fileInput"],Fe=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],Ee=["ngx-dropzone-preview","*","ngx-dropzone-label"];function je(i,n){i&1&&P(0,2,["*ngIf","!_hasPreviews"])}function Be(i,n){if(i&1){let e=D();c(0,"ngx-dropzone-remove-badge",2),p("click",function(o){_(e);let r=v();return y(r._remove(o))}),d()}}var De=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=S({type:i,selectors:[["ngx-dropzone-label"]],standalone:!1}),i})();function k(i){return i!=null&&`${i}`!="false"}function Le(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))?Number(i):null}var we=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=w({type:i,selectors:[["ngx-dropzone-remove-badge"]],standalone:!1,decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,t){e&1&&($(),c(0,"svg"),I(1,"line",0)(2,"line",1),d())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),i})(),Y=function(i){return i[i.BACKSPACE=8]="BACKSPACE",i[i.DELETE=46]="DELETE",i}(Y||{}),U=(()=>{class i{constructor(e){this.sanitizer=e,this._removable=!1,this.removed=new b,this.tabIndex=0}set file(e){this._file=e}get file(){return this._file}get removable(){return this._removable}set removable(e){this._removable=k(e)}keyEvent(e){switch(e.keyCode){case Y.BACKSPACE:case Y.DELETE:this.remove();break;default:break}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle(`
			display: flex;
			height: 140px;
			min-height: 140px;
			min-width: 180px;
			max-width: 180px;
			justify-content: center;
			align-items: center;
			padding: 0 20px;
			margin: 10px;
			border-radius: 5px;
			position: relative;
		`)}_remove(e){e.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){return C(this,null,function*(){return new Promise((e,t)=>{let o=new FileReader;if(o.onload=r=>{e(r.target.result)},o.onerror=r=>{console.error(`FileReader failed on file ${this.file.name}.`),t(r)},!this.file)return t("No file to read. Please provide a file using the [file] Input property.");o.readAsDataURL(this.file)})})}}return i.\u0275fac=function(e){return new(e||i)(m(G))},i.\u0275cmp=w({type:i,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,t){e&1&&p("keyup",function(r){return t.keyEvent(r)}),e&2&&(ae("tabindex",t.tabIndex),se(t.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},standalone:!1,ngContentSelectors:Ie,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){e&1&&(O(xe),P(0),x(1,Te,1,0,"ngx-dropzone-remove-badge",0)),e&2&&(u(),g("ngIf",t.removable))},dependencies:[we,M],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),i})(),Ce=(()=>{class i{parseFileList(e,t,o,r){let s=[],l=[];for(let f=0;f<e.length;f++){let h=e.item(f);if(!this.isAccepted(h,t)){this.rejectFile(l,h,"type");continue}if(o&&h.size>o){this.rejectFile(l,h,"size");continue}if(!r&&s.length>=1){this.rejectFile(l,h,"no_multiple");continue}s.push(h)}return{addedFiles:s,rejectedFiles:l}}isAccepted(e,t){if(t==="*")return!0;let o=t.split(",").map(a=>a.toLowerCase().trim()),r=e.type.toLowerCase(),s=e.name.toLowerCase();return!!o.find(a=>a.endsWith("/*")?r.split("/")[0]===a.split("/")[0]:a.startsWith(".")?s.endsWith(a):a==r)}rejectFile(e,t,o){let r=t;r.reason=o,e.push(r)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=z({token:i,factory:i.\u0275fac}),i})(),ze=(()=>{class i{constructor(e){this.service=e,this.change=new b,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(e){this._disabled=k(e),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(e){this._multiple=k(e)}get maxFileSize(){return this._maxFileSize}set maxFileSize(e){this._maxFileSize=Le(e)}get expandable(){return this._expandable}set expandable(e){this._expandable=k(e)}get disableClick(){return this._disableClick}set disableClick(e){this._disableClick=k(e)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(e){this._processDirectoryDrop=k(e)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(e){if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,!this.processDirectoryDrop||!DataTransferItem.prototype.webkitGetAsEntry)this.handleFileDrop(e.dataTransfer.files);else{let t=e.dataTransfer.items;if(t.length>0){let o=[],r=[];for(let l=0;l<t.length;l++){let a=t[l].webkitGetAsEntry();a.isFile?o.push(e.dataTransfer.files[l]):a.isDirectory&&r.push(a)}let s=new DataTransfer;if(o.forEach(l=>{s.items.add(l)}),!r.length&&s.items.length&&this.handleFileDrop(s.files),r.length){let l=[];for(let a of r)l.push(this.extractFilesFromDirectory(a));Promise.all(l).then(a=>{a.reduce((f,h)=>[...f,...h]).forEach(f=>{s.items.add(f)}),this.handleFileDrop(s.files)})}}}}extractFilesFromDirectory(e){function t(o){return C(this,null,function*(){try{return yield new Promise((r,s)=>o.file(r,s))}catch(r){console.log("Error converting a fileEntry to a File: ",r)}})}return new Promise((o,r)=>{let s=[],l=e.createReader(),a=()=>{l.readEntries(f=>C(this,null,function*(){if(!f.length)o(s);else{let h=f.filter(R=>R.isFile);for(let R of h){let Ne=yield t(R);s.push(Ne)}a()}}))};a()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(e){let t=e.target.files;this.handleFileDrop(t),this._fileInput.nativeElement.value="",this.preventDefault(e)}handleFileDrop(e){let t=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:t.addedFiles,rejectedFiles:t.rejectedFiles,source:this})}preventDefault(e){e.preventDefault(),e.stopPropagation()}}return i.\u0275fac=function(e){return new(e||i)(m(Ce,2))},i.\u0275cmp=w({type:i,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,t,o){if(e&1&&ce(o,U,5),e&2){let r;A(r=Z())&&(t._previewChildren=r)}},viewQuery:function(e,t){if(e&1&&de(Oe,7),e&2){let o;A(o=Z())&&(t._fileInput=o.first)}},hostVars:8,hostBindings:function(e,t){e&1&&p("click",function(){return t._onClick()})("dragover",function(r){return t._onDragOver(r)})("dragleave",function(){return t._onDragLeave()})("drop",function(r){return t._onDrop(r)}),e&2&&re("ngx-dz-disabled",t.disabled)("expandable",t.expandable)("unclickable",t.disableClick)("ngx-dz-hovered",t._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},standalone:!1,features:[W([Ce])],ngContentSelectors:Ee,decls:5,vars:8,consts:[["fileInput",""],["type","file",3,"change","id","multiple","accept","disabled"],[4,"ngIf"]],template:function(e,t){if(e&1){let o=D();O(Fe),c(0,"input",1,0),p("change",function(s){return _(o),y(t._onFilesSelected(s))}),d(),x(2,je,1,0,"ng-content",2),P(3),P(4,1)}e&2&&(g("id",t.id)("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled),oe("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedBy),u(2),g("ngIf",!t._hasPreviews))},dependencies:[M],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),i})(),Se=(()=>{class i extends U{constructor(e){super(e),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(e){this._file=e,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(e=>setTimeout(()=>this.imageSrc=e)).catch(e=>console.error(e))}}return i.\u0275fac=function(e){return new(e||i)(m(G))},i.\u0275cmp=w({type:i,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},standalone:!1,features:[W([{provide:U,useExisting:i}]),ne],ngContentSelectors:Ie,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,t){e&1&&(O(xe),I(0,"img",0),P(1),x(2,Be,1,0,"ngx-dropzone-remove-badge",1)),e&2&&(g("src",t.imageSrc,T),u(2),g("ngIf",t.removable))},dependencies:[we,M],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),i})();var Pe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=H({type:i}),i.\u0275inj=V({imports:[[he]]}),i})();var j=class i{constructor(n){this.toastr=n}message(n,e,t){if(t=t||new X,t.messageType===void 0)throw new Error("messageType is required");this.toastr[t.messageType](n,e,{positionClass:t.position})}static \u0275fac=function(e){return new(e||i)(K(be))};static \u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})},X=class{messageType="info";position="toast-top-right";constructor(n="info",e="toast-top-right"){this.messageType=n,this.position=e}};var B=class i{constructor(n,e,t,o){this.httpClientService=n;this.renderer=e;this.element=t;this.alertify=o}ngOnInit(){if(this.createButton){let n=document.createElement("button"),e=document.createElement("i");e.setAttribute("class","fas fa-trash"),n.setAttribute("class",this.buttonClass),this.renderer.appendChild(this.element.nativeElement,n),this.renderer.appendChild(n,e),n.setAttribute("style",this.deleteStyle),this.renderer.listen(n,"click",t=>this.onClick(t))}else this.renderer.listen(this.element.nativeElement,"click",n=>this.onClick(n))}deleteStyle="float: right;";buttonClass="btn btn-outline-danger";controller;body;title="Silm\u0259 sor\u011Fusu";createButton=!0;message="Silm\u0259k ist\u0259diyinizd\u0259n \u0259minsiniz?";successCallBack=new b;onClick(n){n.preventDefault(),n.stopPropagation(),this.alertify.confirm(this.title,this.message,()=>{this.httpClientService.delete({controller:this.controller},this.body).subscribe(e=>{this.alertify.message("Silindi",{dismissOthers:!0,messageType:"success",position:"bottom-right"}),this.successCallBack.emit()},e=>{console.error(e.message)})})}static \u0275fac=function(e){return new(e||i)(m(F),m(ie),m(te),m(ye))};static \u0275dir=S({type:i,selectors:[["","appDelete",""]],inputs:{deleteStyle:"deleteStyle",buttonClass:"buttonClass",controller:"controller",body:"body",title:"title",createButton:"createButton",message:"message"},outputs:{successCallBack:"successCallBack"}})};var J=class{_document;_textarea;constructor(n,e){this._document=e;let t=this._textarea=this._document.createElement("textarea"),o=t.style;o.position="fixed",o.top=o.opacity="0",o.left="-999em",t.setAttribute("aria-hidden","true"),t.value=n,t.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(t)}copy(){let n=this._textarea,e=!1;try{if(n){let t=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),t&&t.focus()}}catch{}return e}destroy(){let n=this._textarea;n&&(n.remove(),this._textarea=void 0)}},Ae=(()=>{class i{_document=N(ue);constructor(){}copy(e){let t=this.beginCopy(e),o=t.copy();return t.destroy(),o}beginCopy(e){return new J(e,this._document)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=z({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ze=new q("CDK_COPY_TO_CLIPBOARD_CONFIG"),Me=(()=>{class i{_clipboard=N(Ae);_ngZone=N(ee);text="";attempts=1;copied=new b;_pending=new Set;_destroyed;_currentTimeout;constructor(){let e=N(Ze,{optional:!0});e&&e.attempts!=null&&(this.attempts=e.attempts)}copy(e=this.attempts){if(e>1){let t=e,o=this._clipboard.beginCopy(this.text);this._pending.add(o);let r=()=>{let s=o.copy();!s&&--t&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(r,1)):(this._currentTimeout=null,this._pending.delete(o),o.destroy(),this.copied.emit(s))};r()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}static \u0275fac=function(t){return new(t||i)};static \u0275dir=S({type:i,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,o){t&1&&p("click",function(){return o.copy()})},inputs:{text:[0,"cdkCopyToClipboard","text"],attempts:[0,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}})}return i})();var L={production:!1,framework:{imageProperties:{id:"id",unique:"path",imgSrc:"fullPath"},controllers:{media:"medias"},createdDate:"createdDate"}};var We=i=>({id:i});function Ge(i,n){if(i&1){let e=D();c(0,"ngx-dropzone-image-preview",6),p("removed",function(){let o=_(e).$implicit,r=v();return y(r.onRemove(o))}),d()}if(i&2){let e=n.$implicit;g("removable",!0)("file",e)}}function Ye(i,n){if(i&1){let e=D();c(0,"button",15),p("click",function(){_(e);let o=v().$implicit,r=v();return y(r.onSelectImage(o))}),I(1,"i",16),d()}}function Ue(i,n){if(i&1){let e=D();c(0,"div",7)(1,"div",8)(2,"div",9),I(3,"img",10),d(),c(4,"div",11),p("successCallBack",function(){_(e);let o=v();return y(o.handleSuccess())}),c(5,"button",12),p("click",function(){_(e);let o=v();return y(o.copyMessage())}),I(6,"i",13),d(),x(7,Ye,2,0,"button",14),d()()()}if(i&2){let e=n.$implicit,t=v();u(3),le("src",e[t.environment.framework.imageProperties.imgSrc],T),u(),g("body",ge(5,We,e[t.environment.framework.imageProperties.id]))("controller",t.environment.framework.controllers.media),u(),g("cdkCopyToClipboard",e[t.environment.framework.imageProperties.imgSrc]),u(2),g("ngIf",t.canSelect)}}var ke=class i{constructor(n,e,t,o){this.toastr=n;this.httpClientService=e;this.languageService=t;this.translate=o}canSelect=!1;label;imageSelected=new b;files=[];images;mediasController=L.framework.controllers.media;imageProperties=L.framework.imageProperties;ngOnInit(){return C(this,null,function*(){yield this.languageService.loadCustomTranslations(this.languageService.getCurrentLanguage(),"image-library"),this.label||(this.label=this.translate.instant("IMAGE_LIBRARY.UPLOAD_IMAGES")),this.images=yield this.getAll()})}copyMessage(){this.toastr.message(this.translate.instant("IMAGE_LIBRARY.COPIED"),"",{messageType:"success",position:"toast-top-right"})}onRemove(n){this.files=this.files.filter(e=>e!==n)}uploadFiles(){let n=new FormData;this.files.forEach((e,t)=>{n.append("files",e,e.name)}),this.httpClientService.post({controller:this.mediasController},n).subscribe({next:e=>{console.log(e),this.files=[],this.handleSuccess().then()},error:e=>{console.error(e)}})}handleSuccess(){return C(this,null,function*(){this.images=yield this.getAll()})}getAll(){return C(this,null,function*(){try{let n=yield Q(this.httpClientService.get({controller:this.mediasController}));return n||void 0}catch(n){console.error("Error fetching images:",n);return}})}onSelect(n){this.files.push(...n.addedFiles)}onSelectImage(n){let e={[this.imageProperties.unique]:n[this.imageProperties.unique],[this.imageProperties.imgSrc]:n[this.imageProperties.imgSrc]};this.imageSelected.emit(JSON.stringify(e))}environment=L;static \u0275fac=function(e){return new(e||i)(m(j),m(F),m(_e),m(ve))};static \u0275cmp=w({type:i,selectors:[["app-image-library"]],inputs:{canSelect:"canSelect",label:"label"},outputs:{imageSelected:"imageSelected"},decls:8,vars:3,consts:[[3,"change"],[3,"removable","file","removed",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary","mt-2",3,"click"],[1,"fas","fa-upload","fa-lg"],[1,"row","mt-5"],["class","col-12 col-md-3",4,"ngFor","ngForOf"],[3,"removed","removable","file"],[1,"col-12","col-md-3"],[1,"card"],[1,"card-body"],[1,"img-in-card",3,"src"],["appDelete","",1,"card-footer",3,"successCallBack","body","controller"],["type","button",1,"btn","btn-outline-success",2,"float","left",3,"click","cdkCopyToClipboard"],[1,"fas","fa-copy"],["type","button","class","btn btn-outline-primary","style","float: left",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",2,"float","left",3,"click"],[1,"fas","fa-hand-pointer"]],template:function(e,t){e&1&&(c(0,"ngx-dropzone",0),p("change",function(r){return t.onSelect(r)}),c(1,"ngx-dropzone-label"),pe(2),d(),x(3,Ge,1,2,"ngx-dropzone-image-preview",1),d(),c(4,"button",2),p("click",function(){return t.uploadFiles()}),I(5,"i",3),d(),c(6,"div",4),x(7,Ue,8,7,"div",5),d()),e&2&&(u(2),me(t.label),u(),g("ngForOf",t.files),u(4),g("ngForOf",t.images))},dependencies:[Pe,ze,De,Se,fe,B,Me,M],styles:[".img-in-card[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:contain;border-radius:4px;display:block}"]})};export{B as a,L as b,ke as c};
