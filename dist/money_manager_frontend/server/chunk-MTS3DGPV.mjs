import './polyfills.server.mjs';
import{a as y}from"./chunk-QH7RBFFP.mjs";import{b}from"./chunk-VXH5LYR6.mjs";import{b as h,e as S}from"./chunk-VVOWYZHM.mjs";import"./chunk-S4G7RNWR.mjs";import"./chunk-R5HLY2NA.mjs";import{Ab as e,Bb as t,Cb as n,Gb as f,Lb as g,Ub as s,Va as o,Vb as l,db as v,ia as p,ja as d}from"./chunk-7CSA3W3F.mjs";import"./chunk-X2SEQXRR.mjs";var k=class u{constructor(a,i,r,c){this.userService=a;this.authService=i;this.activatedRoute=r;this.router=c}login(a,i){this.userService.login(a,i).subscribe(r=>{r&&(this.authService.identityCheck(),localStorage.setItem("accessToken",r.token.accessToken),localStorage.setItem("refreshToken",r.token.refreshToken),this.activatedRoute.queryParams.subscribe(c=>{let m=c.returnUrl;m?this.router.navigate([m]).then():this.router.navigate(["/"]).then()}))})}static \u0275fac=function(i){return new(i||u)(o(y),o(b),o(h),o(S))};static \u0275cmp=v({type:u,selectors:[["app-login"]],decls:28,vars:0,consts:[["txtEmail",""],["txtPassword",""],[1,"login-box"],[1,"login-logo"],[1,"card"],[1,"card-body","login-card-body"],["method","post","onsubmit","return false"],[1,"input-group","mb-3"],["type","email","placeholder","Email",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fas","fa-envelope"],["type","password","placeholder","\u015Eifr\u0259",1,"form-control"],[1,"fas","fa-lock"],[1,"row"],[1,"col-8"],[1,"icheck-primary"],[1,"col-4"],["type","submit",1,"btn","btn-primary","btn-block",3,"click"],[1,"mb-1"],["href","#"]],template:function(i,r){if(i&1){let c=f();e(0,"div",2)(1,"div",3)(2,"h3"),l(3,"Money Manager"),t()(),e(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",7),n(8,"input",8,0),e(10,"div",9)(11,"div",10),n(12,"span",11),t()()(),e(13,"div",7),n(14,"input",12,1),e(16,"div",9)(17,"div",10),n(18,"span",13),t()()(),e(19,"div",14)(20,"div",15),n(21,"div",16),t(),e(22,"div",17)(23,"button",18),g("click",function(){p(c);let x=s(9),E=s(15);return d(r.login(x.value,E.value))}),l(24,"Daxil ol"),t()()()(),e(25,"p",19)(26,"a",20),l(27,"\u015Eifr\u0259mi unutmu\u015Fam"),t()()()()()}},encapsulation:2})};export{k as LoginComponent};
